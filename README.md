# Battery_Optimization
This repo features a model for optimizing the trading operation of a battery participating in multiple markets. The optimization problem is solved at a half-hourly resolution (based on the market with the shortest timescale). If the prices of a particular market are defined at a timescale higher than half-hour, the prices are interpolated at an half-houly resolution. The provided half-hourly data spans from 2018 to 2020, which caused significant memory bottlenecks when creating the optimization model for the 3-year time horizon. Therefore, the optimization model in this work considers a monthly optimization horizon for battery operation as a trade-off between accuracy and memory/computational feasibility. The relatively short duration of typical battery storage applications also justifies the reduction of the optimization horizon. Furthermore, preliminary analyses with different time horizons greater than a month did not result in significant changes in battery operation/profits. The model is formualated as a linear programming problem in Julia/JuMP maximizing market profits and is solved using the GLPK solver. The model incorporates all the constraints/requirements mentioned in the exercise prompt. The optimization model allows purchasing electricity from a market and selling electricity to another market simultaneously. Additionally, the cycling-related lifetime constraint and battery degradation is also modelled. The formulation also incorporates a minimum storage level constraint in case deep discharge is to be avoided. The yealy fixed operation costs are included in the calculation of annual profits. The result files contain outputs for scenarios with and without the battery cycling feature (which can be turned on/off). Inclusion battery cycle modelling does not result in a significant difference in total profits over the 3-year horizon (the difference in profits being only 0.7%), while increasing the runtime by around 50%. However, the differences might become more substantial if a longer horizon is modelled, which could see constrained battery operation due to reduced storage capability and active lifetime constraint. Furthermore, it is evident that the optimal battery operation involves purchasing electricity primarily from Markets 1 and 3 and selling primarily to Market 2.

To run the model, carry out the following steps:
1. Install Julia (if not already installed).
2. Clone the repo.
3. Navigate to the cloned directory.
4. Start Julia REPL.
5. Run command 'activate .' in Julia Package manager mode (Note: Package manager mode can be entered by typing ']'). This will activate the environment with the required dependencies.
6. Run command 'instantiate' in Julia Package manager mode. This will instantiate the environment. (Note: Only need to instantiate the environment once.)
7. Run command include("run_case.jl") in Julia (Note: You can switch back to Julia from Package manager mode by pressing backspace).